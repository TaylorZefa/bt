import{aZ as Oa,C as be,az as He,ap as ue,K as Xe,G as Je,a_ as Fe,aA as Ee,r as V,aa as Ke,c as g,aF as ra,aG as Ga,m as W,J as oe,o as y,e as _,f as j,X as ve,a$ as ua,h as s,aw as xe,R as N,W as se,Q as Te,j as Oe,t as le,S as de,ac as ne,M as da,b0 as qa,aE as ca,b1 as Ua,n as Ge,an as pa,b as ze,b2 as ja,p as te,aK as fa,T as Wa,av as va,aL as Za,aS as Ya,P as ye,b3 as ha,aT as ma,aj as Xa,y as U,U as Y,N as A,w as z,g as X,F as he,b4 as ba,a9 as Ja,aD as ga,Y as ke,b5 as Re,ay as Qe,aq as Qa,ae as ea,b6 as Ce,I as Ne,b7 as en,b8 as an,b9 as nn,ba as ya,bb as ln,al as x,bc as $e,bd as ka,be as tn,bf as sn,bg as on,bh as rn,bi as un,ad as dn,E as cn,bj as pn,aH as fn,aM as aa,bk as na,i as vn,bl as hn,bm as mn,au as la,bn,bo as gn}from"./index-85da6439.js";import{b as yn}from"./el-form-item-9d327681.js";var kn=1,Cn=4;function Ca(e){return yn(e,kn|Cn)}var Nn=1/0;function En(e){var n=e==null?0:e.length;return n?Oa(e,Nn):[]}const ta=e=>[...new Set(e)],sa=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],$n=()=>Math.floor(Math.random()*1e4),Na=be({size:He,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),wn=be({...Na,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Ea={[ue]:e=>Xe(e)||Je(e)||Fe(e),[Ee]:e=>Xe(e)||Je(e)||Fe(e)},$a=Symbol("radioGroupKey"),wa=(e,n)=>{const t=V(),a=Ke($a,void 0),i=g(()=>!!a),p=g({get(){return i.value?a.modelValue:e.modelValue},set(b){i.value?a.changeEvent(b):n&&n(ue,b),t.value.checked=e.modelValue===e.label}}),u=ra(g(()=>a==null?void 0:a.size)),v=Ga(g(()=>a==null?void 0:a.disabled)),r=V(!1),h=g(()=>v.value||i.value&&p.value!==e.label?-1:0);return{radioRef:t,isGroup:i,radioGroup:a,focus:r,size:u,disabled:v,tabIndex:h,modelValue:p}},Sn=["value","name","disabled"],Tn=W({name:"ElRadio"}),Vn=W({...Tn,props:wn,emits:Ea,setup(e,{emit:n}){const t=e,a=oe("radio"),{radioRef:i,radioGroup:p,focus:u,size:v,disabled:r,modelValue:h}=wa(t,n);function b(){ne(()=>n("change",h.value))}return(f,k)=>{var S;return y(),_("label",{class:N([s(a).b(),s(a).is("disabled",s(r)),s(a).is("focus",s(u)),s(a).is("bordered",f.border),s(a).is("checked",s(h)===f.label),s(a).m(s(v))])},[j("span",{class:N([s(a).e("input"),s(a).is("disabled",s(r)),s(a).is("checked",s(h)===f.label)])},[ve(j("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":k[0]||(k[0]=D=>xe(h)?h.value=D:null),class:N(s(a).e("original")),value:f.label,name:f.name||((S=s(p))==null?void 0:S.name),disabled:s(r),type:"radio",onFocus:k[1]||(k[1]=D=>u.value=!0),onBlur:k[2]||(k[2]=D=>u.value=!1),onChange:b,onClick:k[3]||(k[3]=se(()=>{},["stop"]))},null,42,Sn),[[ua,s(h)]]),j("span",{class:N(s(a).e("inner"))},null,2)],2),j("span",{class:N(s(a).e("label")),onKeydown:k[4]||(k[4]=se(()=>{},["stop"]))},[Te(f.$slots,"default",{},()=>[Oe(le(f.label),1)])],34)],2)}}});var In=de(Vn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Ln=be({...Na,name:{type:String,default:""}}),Pn=["value","name","disabled"],_n=W({name:"ElRadioButton"}),Dn=W({..._n,props:Ln,setup(e){const n=e,t=oe("radio"),{radioRef:a,focus:i,size:p,disabled:u,modelValue:v,radioGroup:r}=wa(n),h=g(()=>({backgroundColor:(r==null?void 0:r.fill)||"",borderColor:(r==null?void 0:r.fill)||"",boxShadow:r!=null&&r.fill?`-1px 0 0 0 ${r.fill}`:"",color:(r==null?void 0:r.textColor)||""}));return(b,f)=>{var k;return y(),_("label",{class:N([s(t).b("button"),s(t).is("active",s(v)===b.label),s(t).is("disabled",s(u)),s(t).is("focus",s(i)),s(t).bm("button",s(p))])},[ve(j("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":f[0]||(f[0]=S=>xe(v)?v.value=S:null),class:N(s(t).be("button","original-radio")),value:b.label,type:"radio",name:b.name||((k=s(r))==null?void 0:k.name),disabled:s(u),onFocus:f[1]||(f[1]=S=>i.value=!0),onBlur:f[2]||(f[2]=S=>i.value=!1),onClick:f[3]||(f[3]=se(()=>{},["stop"]))},null,42,Pn),[[ua,s(v)]]),j("span",{class:N(s(t).be("button","inner")),style:da(s(v)===b.label?s(h):{}),onKeydown:f[4]||(f[4]=se(()=>{},["stop"]))},[Te(b.$slots,"default",{},()=>[Oe(le(b.label),1)])],38)],2)}}});var Sa=de(Dn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Mn=be({id:{type:String,default:void 0},size:He,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Bn=Ea,Fn=["id","aria-label","aria-labelledby"],zn=W({name:"ElRadioGroup"}),Rn=W({...zn,props:Mn,emits:Bn,setup(e,{emit:n}){const t=e,a=oe("radio"),i=qa(),p=V(),{formItem:u}=ca(),{inputId:v,isLabeledByFormItem:r}=Ua(t,{formItemContext:u}),h=f=>{n(ue,f),ne(()=>n("change",f))};Ge(()=>{const f=p.value.querySelectorAll("[type=radio]"),k=f[0];!Array.from(f).some(S=>S.checked)&&k&&(k.tabIndex=0)});const b=g(()=>t.name||i.value);return pa($a,ze({...ja(t),changeEvent:h,name:b})),te(()=>t.modelValue,()=>{t.validateEvent&&(u==null||u.validate("change").catch(f=>fa()))}),(f,k)=>(y(),_("div",{id:s(v),ref_key:"radioGroupRef",ref:p,class:N(s(a).b("group")),role:"radiogroup","aria-label":s(r)?void 0:f.label||"radio-group","aria-labelledby":s(r)?s(u).labelId:void 0},[Te(f.$slots,"default")],10,Fn))}});var Ta=de(Rn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const An=Wa(In,{RadioButton:Sa,RadioGroup:Ta}),hl=va(Ta);va(Sa);var Hn=W({name:"NodeContent",setup(){return{ns:oe("cascader-node")}},render(){const{ns:e}=this,{node:n,panel:t}=this.$parent,{data:a,label:i}=n,{renderLabelFn:p}=t;return Za("span",{class:e.e("label")},p?p({node:n,data:a}):i)}});const qe=Symbol(),Kn=W({name:"ElCascaderNode",components:{ElCheckbox:Ya,ElRadio:An,NodeContent:Hn,ElIcon:ye,Check:ha,Loading:ma,ArrowRight:Xa},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:n}){const t=Ke(qe),a=oe("cascader-node"),i=g(()=>t.isHoverMenu),p=g(()=>t.config.multiple),u=g(()=>t.config.checkStrictly),v=g(()=>{var E;return(E=t.checkedNodes[0])==null?void 0:E.uid}),r=g(()=>e.node.isDisabled),h=g(()=>e.node.isLeaf),b=g(()=>u.value&&!h.value||!r.value),f=g(()=>S(t.expandingNode)),k=g(()=>u.value&&t.checkedNodes.some(S)),S=E=>{var P;const{level:R,uid:ie}=e.node;return((P=E==null?void 0:E.pathNodes[R-1])==null?void 0:P.uid)===ie},D=()=>{f.value||t.expandNode(e.node)},J=E=>{const{node:P}=e;E!==P.checked&&t.handleCheckChange(P,E)},L=()=>{t.lazyLoad(e.node,()=>{h.value||D()})},O=E=>{i.value&&(M(),!h.value&&n("expand",E))},M=()=>{const{node:E}=e;!b.value||E.loading||(E.loaded?D():L())},Z=()=>{i.value&&!h.value||(h.value&&!r.value&&!u.value&&!p.value?G(!0):M())},H=E=>{u.value?(J(E),e.node.loaded&&D()):G(E)},G=E=>{e.node.loaded?(J(E),!u.value&&D()):L()};return{panel:t,isHoverMenu:i,multiple:p,checkStrictly:u,checkedNodeId:v,isDisabled:r,isLeaf:h,expandable:b,inExpandingPath:f,inCheckedPath:k,ns:a,handleHoverExpand:O,handleExpand:M,handleClick:Z,handleCheck:G,handleSelectCheck:H}}}),xn=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],On=j("span",null,null,-1);function Gn(e,n,t,a,i,p){const u=U("el-checkbox"),v=U("el-radio"),r=U("check"),h=U("el-icon"),b=U("node-content"),f=U("loading"),k=U("arrow-right");return y(),_("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:N([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...S)=>e.handleHoverExpand&&e.handleHoverExpand(...S)),onFocus:n[3]||(n[3]=(...S)=>e.handleHoverExpand&&e.handleHoverExpand(...S)),onClick:n[4]||(n[4]=(...S)=>e.handleClick&&e.handleClick(...S))},[Y(" prefix "),e.multiple?(y(),A(u,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:n[0]||(n[0]=se(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(y(),A(v,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:n[1]||(n[1]=se(()=>{},["stop"]))},{default:z(()=>[Y(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),On]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(y(),A(h,{key:2,class:N(e.ns.e("prefix"))},{default:z(()=>[X(r)]),_:1},8,["class"])):Y("v-if",!0),Y(" content "),X(b),Y(" postfix "),e.isLeaf?Y("v-if",!0):(y(),_(he,{key:3},[e.node.loading?(y(),A(h,{key:0,class:N([e.ns.is("loading"),e.ns.e("postfix")])},{default:z(()=>[X(f)]),_:1},8,["class"])):(y(),A(h,{key:1,class:N(["arrow-right",e.ns.e("postfix")])},{default:z(()=>[X(k)]),_:1},8,["class"]))],64))],42,xn)}var qn=de(Kn,[["render",Gn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Un=W({name:"ElCascaderMenu",components:{Loading:ma,ElIcon:ye,ElScrollbar:ba,ElCascaderNode:qn},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const n=Ja(),t=oe("cascader-menu"),{t:a}=ga(),i=$n();let p=null,u=null;const v=Ke(qe),r=V(null),h=g(()=>!e.nodes.length),b=g(()=>!v.initialLoaded),f=g(()=>`cascader-menu-${i}-${e.index}`),k=L=>{p=L.target},S=L=>{if(!(!v.isHoverMenu||!p||!r.value))if(p.contains(L.target)){D();const O=n.vnode.el,{left:M}=O.getBoundingClientRect(),{offsetWidth:Z,offsetHeight:H}=O,G=L.clientX-M,E=p.offsetTop,P=E+p.offsetHeight;r.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${G} ${E} L${Z} 0 V${E} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${G} ${P} L${Z} ${H} V${P} Z" />
        `}else u||(u=window.setTimeout(J,v.config.hoverThreshold))},D=()=>{u&&(clearTimeout(u),u=null)},J=()=>{r.value&&(r.value.innerHTML="",D())};return{ns:t,panel:v,hoverZone:r,isEmpty:h,isLoading:b,menuId:f,t:a,handleExpand:k,handleMouseMove:S,clearHoverZone:J}}});function jn(e,n,t,a,i,p){const u=U("el-cascader-node"),v=U("loading"),r=U("el-icon"),h=U("el-scrollbar");return y(),A(h,{key:e.menuId,tag:"ul",role:"menu",class:N(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:z(()=>{var b;return[(y(!0),_(he,null,ke(e.nodes,f=>(y(),A(u,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(y(),_("div",{key:0,class:N(e.ns.e("empty-text"))},[X(r,{size:"14",class:N(e.ns.is("loading"))},{default:z(()=>[X(v)]),_:1},8,["class"]),Oe(" "+le(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(y(),_("div",{key:1,class:N(e.ns.e("empty-text"))},le(e.t("el.cascader.noData")),3)):(b=e.panel)!=null&&b.isHoverMenu?(y(),_("svg",{key:2,ref:"hoverZone",class:N(e.ns.e("hover-zone"))},null,2)):Y("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Wn=de(Un,[["render",jn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Zn=0;const Yn=e=>{const n=[e];let{parent:t}=e;for(;t;)n.unshift(t),t=t.parent;return n};class me{constructor(n,t,a,i=!1){this.data=n,this.config=t,this.parent=a,this.root=i,this.uid=Zn++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:p,label:u,children:v}=t,r=n[v],h=Yn(this);this.level=i?0:a?a.level+1:1,this.value=n[p],this.label=n[u],this.pathNodes=h,this.pathValues=h.map(b=>b.value),this.pathLabels=h.map(b=>b.label),this.childrenData=r,this.children=(r||[]).map(b=>new me(b,t,this)),this.loaded=!t.lazy||this.isLeaf||!Re(r)}get isDisabled(){const{data:n,parent:t,config:a}=this,{disabled:i,checkStrictly:p}=a;return(Qe(i)?i(n,this):!!n[i])||!p&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:n,config:t,childrenData:a,loaded:i}=this,{lazy:p,leaf:u}=t,v=Qe(u)?u(n,this):n[u];return Qa(v)?p&&!i?!1:!(Array.isArray(a)&&a.length):!!v}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:t,children:a}=this,i=new me(n,this.config,this);return Array.isArray(t)?t.push(n):this.childrenData=[n],a.push(i),i}calcText(n,t){const a=n?this.pathLabels.join(t):this.label;return this.text=a,a}broadcast(n,...t){const a=`onParent${ea(n)}`;this.children.forEach(i=>{i&&(i.broadcast(n,...t),i[a]&&i[a](...t))})}emit(n,...t){const{parent:a}=this,i=`onChild${ea(n)}`;a&&(a[i]&&a[i](...t),a.emit(n,...t))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,t=n.filter(i=>!i.isDisabled),a=t.length?t.every(i=>i.checked):!1;this.setCheckState(a)}setCheckState(n){const t=this.children.length,a=this.children.reduce((i,p)=>{const u=p.checked?1:p.indeterminate?.5:0;return i+u},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&n,this.indeterminate=this.loaded&&a!==t&&a>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:t,multiple:a}=this.config;t||!a?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}}const Ae=(e,n)=>e.reduce((t,a)=>(a.isLeaf?t.push(a):(!n&&t.push(a),t=t.concat(Ae(a.children,n))),t),[]);class oa{constructor(n,t){this.config=t;const a=(n||[]).map(i=>new me(i,this.config));this.nodes=a,this.allNodes=Ae(a,!1),this.leafNodes=Ae(a,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,t){const a=t?t.appendChild(n):new me(n,this.config);t||this.nodes.push(a),this.allNodes.push(a),a.isLeaf&&this.leafNodes.push(a)}appendNodes(n,t){n.forEach(a=>this.appendNode(a,t))}getNodeByValue(n,t=!1){return!n&&n!==0?null:this.getFlattedNodes(t).find(i=>Ce(i.value,n)||Ce(i.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:a,level:i})=>Ce(n.value,a)&&n.level===i)||null}}const Va=be({modelValue:{type:Ne([Number,String,Array])},options:{type:Ne(Array),default:()=>[]},props:{type:Ne(Object),default:()=>({})}}),Xn={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:en,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Jn=e=>g(()=>({...Xn,...e.props})),ia=e=>{if(!e)return 0;const n=e.id.split("-");return Number(n[n.length-2])},Qn=e=>{if(!e)return;const n=e.querySelector("input");n?n.click():an(e)&&e.click()},el=(e,n)=>{const t=n.slice(0),a=t.map(p=>p.uid),i=e.reduce((p,u)=>{const v=a.indexOf(u.uid);return v>-1&&(p.push(u),t.splice(v,1),a.splice(v,1)),p},[]);return i.push(...t),i},al=W({name:"ElCascaderPanel",components:{ElCascaderMenu:Wn},props:{...Va,border:{type:Boolean,default:!0},renderLabel:Function},emits:[ue,Ee,"close","expand-change"],setup(e,{emit:n,slots:t}){let a=!1;const i=oe("cascader"),p=Jn(e);let u=null;const v=V(!0),r=V([]),h=V(null),b=V([]),f=V(null),k=V([]),S=g(()=>p.value.expandTrigger==="hover"),D=g(()=>e.renderLabel||t.default),J=()=>{const{options:c}=e,m=p.value;a=!1,u=new oa(c,m),b.value=[u.getNodes()],m.lazy&&Re(e.options)?(v.value=!1,L(void 0,C=>{C&&(u=new oa(C,m),b.value=[u.getNodes()]),v.value=!0,R(!1,!0)})):R(!1,!0)},L=(c,m)=>{const C=p.value;c=c||new me({},C,void 0,!0),c.loading=!0;const T=$=>{const I=c,B=I.root?null:I;$&&(u==null||u.appendNodes($,B)),I.loading=!1,I.loaded=!0,I.childrenData=I.childrenData||[],m&&m($)};C.lazyLoad(c,T)},O=(c,m)=>{var C;const{level:T}=c,$=b.value.slice(0,T);let I;c.isLeaf?I=c.pathNodes[T-2]:(I=c,$.push(c.children)),((C=f.value)==null?void 0:C.uid)!==(I==null?void 0:I.uid)&&(f.value=c,b.value=$,!m&&n("expand-change",(c==null?void 0:c.pathValues)||[]))},M=(c,m,C=!0)=>{const{checkStrictly:T,multiple:$}=p.value,I=k.value[0];a=!0,!$&&(I==null||I.doCheck(!1)),c.doCheck(m),P(),C&&!$&&!T&&n("close"),!C&&!$&&!T&&Z(c)},Z=c=>{c&&(c=c.parent,Z(c),c&&O(c))},H=c=>u==null?void 0:u.getFlattedNodes(c),G=c=>{var m;return(m=H(c))==null?void 0:m.filter(C=>C.checked!==!1)},E=()=>{k.value.forEach(c=>c.doCheck(!1)),P(),b.value=b.value.slice(0,1),f.value=null,n("expand-change",[])},P=()=>{var c;const{checkStrictly:m,multiple:C}=p.value,T=k.value,$=G(!m),I=el(T,$),B=I.map(F=>F.valueByOption);k.value=I,h.value=C?B:(c=B[0])!=null?c:null},R=(c=!1,m=!1)=>{const{modelValue:C}=e,{lazy:T,multiple:$,checkStrictly:I}=p.value,B=!I;if(!(!v.value||a||!m&&Ce(C,h.value)))if(T&&!c){const re=ta(En(sa(C))).map(K=>u==null?void 0:u.getNodeByValue(K)).filter(K=>!!K&&!K.loaded&&!K.loading);re.length?re.forEach(K=>{L(K,()=>R(!1,m))}):R(!0,m)}else{const F=$?sa(C):[C],re=ta(F.map(K=>u==null?void 0:u.getNodeByValue(K,B)));ie(re,m),h.value=Ca(C)}},ie=(c,m=!0)=>{const{checkStrictly:C}=p.value,T=k.value,$=c.filter(F=>!!F&&(C||F.isLeaf)),I=u==null?void 0:u.getSameNode(f.value),B=m&&I||$[0];B?B.pathNodes.forEach(F=>O(F,!0)):f.value=null,T.forEach(F=>F.doCheck(!1)),e.props.multiple?ze($).forEach(F=>F.doCheck(!0)):$.forEach(F=>F.doCheck(!0)),k.value=$,ne(ce)},ce=()=>{ya&&r.value.forEach(c=>{const m=c==null?void 0:c.$el;if(m){const C=m.querySelector(`.${i.namespace.value}-scrollbar__wrap`),T=m.querySelector(`.${i.b("node")}.${i.is("active")}`)||m.querySelector(`.${i.b("node")}.in-active-path`);ln(C,T)}})},pe=c=>{const m=c.target,{code:C}=c;switch(C){case x.up:case x.down:{c.preventDefault();const T=C===x.up?-1:1;$e(ka(m,T,`.${i.b("node")}[tabindex="-1"]`));break}case x.left:{c.preventDefault();const T=r.value[ia(m)-1],$=T==null?void 0:T.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);$e($);break}case x.right:{c.preventDefault();const T=r.value[ia(m)+1],$=T==null?void 0:T.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);$e($);break}case x.enter:Qn(m);break}};return pa(qe,ze({config:p,expandingNode:f,checkedNodes:k,isHoverMenu:S,initialLoaded:v,renderLabelFn:D,lazyLoad:L,expandNode:O,handleCheckChange:M})),te([p,()=>e.options],J,{deep:!0,immediate:!0}),te(()=>e.modelValue,()=>{a=!1,R()},{deep:!0}),te(()=>h.value,c=>{Ce(c,e.modelValue)||(n(ue,c),n(Ee,c))}),nn(()=>r.value=[]),Ge(()=>!Re(e.modelValue)&&R()),{ns:i,menuList:r,menus:b,checkedNodes:k,handleKeyDown:pe,handleCheckChange:M,getFlattedNodes:H,getCheckedNodes:G,clearCheckedNodes:E,calculateCheckedValue:P,scrollToExpandingNode:ce}}});function nl(e,n,t,a,i,p){const u=U("el-cascader-menu");return y(),_("div",{class:N([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:n[0]||(n[0]=(...v)=>e.handleKeyDown&&e.handleKeyDown(...v))},[(y(!0),_(he,null,ke(e.menus,(v,r)=>(y(),A(u,{key:r,ref_for:!0,ref:h=>e.menuList[r]=h,index:r,nodes:[...v]},null,8,["index","nodes"]))),128))],34)}var we=de(al,[["render",nl],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);we.install=e=>{e.component(we.name,we)};const ll=we,tl=be({...Va,size:He,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ne(Function),default:(e,n)=>e.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ne(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:tn.teleported,tagType:{...sn.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),sl={[ue]:e=>!!e||e===null,[Ee]:e=>!!e||e===null,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>Fe(e),expandChange:e=>!!e,removeTag:e=>!!e},ol={key:0},il=["placeholder","onKeydown"],rl=["onClick"],ul="ElCascader",dl=W({name:ul}),cl=W({...dl,props:tl,emits:sl,setup(e,{expose:n,emit:t}){const a=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:l})=>{const{modifiersData:o,placement:d}=l;["right","left","bottom","top"].includes(d)||(o.arrow.x=35)},requires:["arrow"]}]},p=on();let u=0,v=0;const r=oe("cascader"),h=oe("input"),{t:b}=ga(),{form:f,formItem:k}=ca(),S=V(null),D=V(null),J=V(null),L=V(null),O=V(null),M=V(!1),Z=V(!1),H=V(!1),G=V(!1),E=V(""),P=V(""),R=V([]),ie=V([]),ce=V([]),pe=V(!1),c=g(()=>p.style),m=g(()=>a.disabled||(f==null?void 0:f.disabled)),C=g(()=>a.placeholder||b("el.cascader.placeholder")),T=g(()=>P.value||R.value.length>0||pe.value?"":C.value),$=ra(),I=g(()=>["small"].includes($.value)?"small":"default"),B=g(()=>!!a.props.multiple),F=g(()=>!a.filterable||B.value),re=g(()=>B.value?P.value:E.value),K=g(()=>{var l;return((l=L.value)==null?void 0:l.checkedNodes)||[]}),Ia=g(()=>!a.clearable||m.value||H.value||!Z.value?!1:!!K.value.length),Ve=g(()=>{const{showAllLevels:l,separator:o}=a,d=K.value;return d.length?B.value?"":d[0].calcText(l,o):""}),Ie=g({get(){return Ca(a.modelValue)},set(l){t(ue,l),t(Ee,l),a.validateEvent&&(k==null||k.validate("change").catch(o=>fa()))}}),La=g(()=>[r.b(),r.m($.value),r.is("disabled",m.value),p.class]),Pa=g(()=>[h.e("icon"),"icon-arrow-down",r.is("reverse",M.value)]),_a=g(()=>r.is("focus",M.value||G.value)),Ue=g(()=>{var l,o;return(o=(l=S.value)==null?void 0:l.popperRef)==null?void 0:o.contentRef}),q=l=>{var o,d,w;m.value||(l=l??!M.value,l!==M.value&&(M.value=l,(d=(o=D.value)==null?void 0:o.input)==null||d.setAttribute("aria-expanded",`${l}`),l?(ge(),ne((w=L.value)==null?void 0:w.scrollToExpandingNode)):a.filterable&&Me(),t("visibleChange",l)))},ge=()=>{ne(()=>{var l;(l=S.value)==null||l.updatePopper()})},Le=()=>{H.value=!1},Pe=l=>{const{showAllLevels:o,separator:d}=a;return{node:l,key:l.uid,text:l.calcText(o,d),hitState:!1,closable:!m.value&&!l.isDisabled,isCollapseTag:!1}},_e=l=>{var o;const d=l.node;d.doCheck(!1),(o=L.value)==null||o.calculateCheckedValue(),t("removeTag",d.valueByOption)},Da=()=>{if(!B.value)return;const l=K.value,o=[],d=[];if(l.forEach(w=>d.push(Pe(w))),ie.value=d,l.length){l.slice(0,a.maxCollapseTags).forEach(Q=>o.push(Pe(Q)));const w=l.slice(a.maxCollapseTags),ee=w.length;ee&&(a.collapseTags?o.push({key:-1,text:`+ ${ee}`,closable:!1,isCollapseTag:!0}):w.forEach(Q=>o.push(Pe(Q))))}R.value=o},je=()=>{var l,o;const{filterMethod:d,showAllLevels:w,separator:ee}=a,Q=(o=(l=L.value)==null?void 0:l.getFlattedNodes(!a.props.checkStrictly))==null?void 0:o.filter(ae=>ae.isDisabled?!1:(ae.calcText(w,ee),d(ae,re.value)));B.value&&(R.value.forEach(ae=>{ae.hitState=!1}),ie.value.forEach(ae=>{ae.hitState=!1})),H.value=!0,ce.value=Q,ge()},Ma=()=>{var l;let o;H.value&&O.value?o=O.value.$el.querySelector(`.${r.e("suggestion-item")}`):o=(l=L.value)==null?void 0:l.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`),o&&(o.focus(),!H.value&&o.click())},De=()=>{var l,o;const d=(l=D.value)==null?void 0:l.input,w=J.value,ee=(o=O.value)==null?void 0:o.$el;if(!(!ya||!d)){if(ee){const Q=ee.querySelector(`.${r.e("suggestion-list")}`);Q.style.minWidth=`${d.offsetWidth}px`}if(w){const{offsetHeight:Q}=w,ae=R.value.length>0?`${Math.max(Q+6,u)}px`:`${u}px`;d.style.height=ae,ge()}}},Ba=l=>{var o;return(o=L.value)==null?void 0:o.getCheckedNodes(l)},Fa=l=>{ge(),t("expandChange",l)},fe=l=>{var o;const d=(o=l.target)==null?void 0:o.value;if(l.type==="compositionend")pe.value=!1,ne(()=>Be(d));else{const w=d[d.length-1]||"";pe.value=!bn(w)}},za=l=>{if(!pe.value)switch(l.code){case x.enter:q();break;case x.down:q(!0),ne(Ma),l.preventDefault();break;case x.esc:M.value===!0&&(l.preventDefault(),l.stopPropagation(),q(!1));break;case x.tab:q(!1);break}},Ra=()=>{var l;(l=L.value)==null||l.clearCheckedNodes(),!M.value&&a.filterable&&Me(),q(!1)},Me=()=>{const{value:l}=Ve;E.value=l,P.value=l},Aa=l=>{var o,d;const{checked:w}=l;B.value?(o=L.value)==null||o.handleCheckChange(l,!w,!1):(!w&&((d=L.value)==null||d.handleCheckChange(l,!0,!1)),q(!1))},Ha=l=>{const o=l.target,{code:d}=l;switch(d){case x.up:case x.down:{const w=d===x.up?-1:1;$e(ka(o,w,`.${r.e("suggestion-item")}[tabindex="-1"]`));break}case x.enter:o.click();break}},Ka=()=>{const l=R.value,o=l[l.length-1];v=P.value?0:v+1,!(!o||!v||a.collapseTags&&l.length>1)&&(o.hitState?_e(o):o.hitState=!0)},We=l=>{const o=l.target,d=r.e("search-input");o.className===d&&(G.value=!0),t("focus",l)},Ze=l=>{G.value=!1,t("blur",l)},xa=rn(()=>{const{value:l}=re;if(!l)return;const o=a.beforeFilter(l);un(o)?o.then(je).catch(()=>{}):o!==!1?je():Le()},a.debounce),Be=(l,o)=>{!M.value&&q(!0),!(o!=null&&o.isComposing)&&(l?xa():Le())},Ye=l=>Number.parseFloat(gn(h.cssVarName("input-height"),l).value)-2;return te(H,ge),te([K,m],Da),te(R,()=>{ne(()=>De())}),te($,async()=>{await ne();const l=D.value.input;u=Ye(l)||u,De()}),te(Ve,Me,{immediate:!0}),Ge(()=>{const l=D.value.input,o=Ye(l);u=l.offsetHeight||o,dn(l,De)}),n({getCheckedNodes:Ba,cascaderPanelRef:L,togglePopperVisible:q,contentRef:Ue}),(l,o)=>(y(),A(s(na),{ref_key:"tooltipRef",ref:S,visible:M.value,teleported:l.teleported,"popper-class":[s(r).e("dropdown"),l.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${s(r).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Le},{default:z(()=>[ve((y(),_("div",{class:N(s(La)),style:da(s(c)),onClick:o[5]||(o[5]=()=>q(s(F)?void 0:!0)),onKeydown:za,onMouseenter:o[6]||(o[6]=d=>Z.value=!0),onMouseleave:o[7]||(o[7]=d=>Z.value=!1)},[X(s(cn),{ref_key:"input",ref:D,modelValue:E.value,"onUpdate:modelValue":o[1]||(o[1]=d=>E.value=d),placeholder:s(T),readonly:s(F),disabled:s(m),"validate-event":!1,size:s($),class:N(s(_a)),tabindex:s(B)&&l.filterable&&!s(m)?-1:void 0,onCompositionstart:fe,onCompositionupdate:fe,onCompositionend:fe,onFocus:We,onBlur:Ze,onInput:Be},{suffix:z(()=>[s(Ia)?(y(),A(s(ye),{key:"clear",class:N([s(h).e("icon"),"icon-circle-close"]),onClick:se(Ra,["stop"])},{default:z(()=>[X(s(pn))]),_:1},8,["class","onClick"])):(y(),A(s(ye),{key:"arrow-down",class:N(s(Pa)),onClick:o[0]||(o[0]=se(d=>q(),["stop"]))},{default:z(()=>[X(s(fn))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),s(B)?(y(),_("div",{key:0,ref_key:"tagWrapper",ref:J,class:N(s(r).e("tags"))},[(y(!0),_(he,null,ke(R.value,d=>(y(),A(s(aa),{key:d.key,type:l.tagType,size:s(I),hit:d.hitState,closable:d.closable,"disable-transitions":"",onClose:w=>_e(d)},{default:z(()=>[d.isCollapseTag===!1?(y(),_("span",ol,le(d.text),1)):(y(),A(s(na),{key:1,disabled:M.value||!l.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:z(()=>[j("span",null,le(d.text),1)]),content:z(()=>[j("div",{class:N(s(r).e("collapse-tags"))},[(y(!0),_(he,null,ke(ie.value.slice(l.maxCollapseTags),(w,ee)=>(y(),_("div",{key:ee,class:N(s(r).e("collapse-tag"))},[(y(),A(s(aa),{key:w.key,class:"in-tooltip",type:l.tagType,size:s(I),hit:w.hitState,closable:w.closable,"disable-transitions":"",onClose:Q=>_e(w)},{default:z(()=>[j("span",null,le(w.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),l.filterable&&!s(m)?ve((y(),_("input",{key:0,"onUpdate:modelValue":o[2]||(o[2]=d=>P.value=d),type:"text",class:N(s(r).e("search-input")),placeholder:s(Ve)?"":s(C),onInput:o[3]||(o[3]=d=>Be(P.value,d)),onClick:o[4]||(o[4]=se(d=>q(!0),["stop"])),onKeydown:vn(Ka,["delete"]),onCompositionstart:fe,onCompositionupdate:fe,onCompositionend:fe,onFocus:We,onBlur:Ze},null,42,il)),[[hn,P.value]]):Y("v-if",!0)],2)):Y("v-if",!0)],38)),[[s(mn),()=>q(!1),s(Ue)]])]),content:z(()=>[ve(X(s(ll),{ref_key:"cascaderPanelRef",ref:L,modelValue:s(Ie),"onUpdate:modelValue":o[8]||(o[8]=d=>xe(Ie)?Ie.value=d:null),options:l.options,props:a.props,border:!1,"render-label":l.$slots.default,onExpandChange:Fa,onClose:o[9]||(o[9]=d=>l.$nextTick(()=>q(!1)))},null,8,["modelValue","options","props","render-label"]),[[la,!H.value]]),l.filterable?ve((y(),A(s(ba),{key:0,ref_key:"suggestionPanel",ref:O,tag:"ul",class:N(s(r).e("suggestion-panel")),"view-class":s(r).e("suggestion-list"),onKeydown:Ha},{default:z(()=>[ce.value.length?(y(!0),_(he,{key:0},ke(ce.value,d=>(y(),_("li",{key:d.uid,class:N([s(r).e("suggestion-item"),s(r).is("checked",d.checked)]),tabindex:-1,onClick:w=>Aa(d)},[j("span",null,le(d.text),1),d.checked?(y(),A(s(ye),{key:0},{default:z(()=>[X(s(ha))]),_:1})):Y("v-if",!0)],10,rl))),128)):Te(l.$slots,"empty",{key:1},()=>[j("li",{class:N(s(r).e("empty-text"))},le(s(b)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[la,H.value]]):Y("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Se=de(cl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);Se.install=e=>{e.component(Se.name,Se)};const pl=Se,ml=pl;export{ml as E,An as a,hl as b};
