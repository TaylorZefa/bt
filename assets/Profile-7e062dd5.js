import{a as V,d as x,r as B,b as F,c as u,p as N,o as s,N as m,w as t,h as e,g as c,f as w,t as _,e as R,Y as S,a3 as C,F as q,j as P,U,a4 as j,z,Z as D,$ as L,k as M}from"./index-85da6439.js";import{E as O,a as T}from"./el-form-item-9d327681.js";const A={__name:"Profile",setup(Y){const{t:o}=V(),b=x(),d=B(),a=F({name:"",roleId:""}),r=u(()=>b.state.user.userInfo),n=u(()=>r.value.createdBy==="system"),g=u(()=>({roleId:{required:!0,message:o("form.roleRequired"),trigger:"blur"}}));N(r,()=>{y()},{immediate:!0});function y(){a.name=r.value.name,a.roleId=r.value.roleId}function I(){d.value.validate(p=>{p&&j({...a}).then(()=>{z.success(o("tips.success"))})})}return(p,i)=>{const f=T,h=D,k=L,v=M,E=O;return s(),m(E,{ref_key:"formRef",ref:d,model:e(a),rules:e(g),"label-width":"80px","label-position":"left"},{default:t(()=>[c(f,{label:e(o)("form.username")},{default:t(()=>[w("label",null,_(e(a).name),1)]),_:1},8,["label"]),c(f,{label:e(o)("form.group"),prop:e(n)?"":"roleId"},{default:t(()=>[c(k,{modelValue:e(a).roleId,"onUpdate:modelValue":i[0]||(i[0]=l=>e(a).roleId=l),disabled:e(n),placeholder:e(o)("form.choose"),style:{"margin-right":"10px"}},{default:t(()=>[(s(!0),R(q,null,S(e(C),l=>(s(),m(h,{key:l.name,label:l.label,value:l.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","placeholder"]),e(n)?U("",!0):(s(),m(v,{key:0,type:"primary",onClick:I},{default:t(()=>[P(_(e(o)("action.apply")),1)]),_:1}))]),_:1},8,["label","prop"])]),_:1},8,["model","rules"])}}};export{A as default};
