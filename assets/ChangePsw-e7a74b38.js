import{_,a as i,r as b,b as g,c as E,o as V,N as h,w as t,h as e,g as l,j as y,t as v,a5 as x,z as P,E as C,k}from"./index-85da6439.js";import{E as I,a as q}from"./el-form-item-9d327681.js";const B={__name:"ChangePsw",setup(F){const{t:s}=i(),n=b(),o=g({password:"",npassword:"",cfpassword:""}),m=E(()=>({password:{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},npassword:{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},cfpassword:[{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},{validator:(u,r,a)=>{r!==o.npassword?a(new Error(s("form.passwordError"))):a()},trigger:"blur"}]}));function f(){n.value.validate(u=>{if(!u)return;const{password:r,npassword:a}=o;x({password:r,npassword:a}).then(()=>{P.success(s("tips.success")),n.value.resetFields()})})}return(u,r)=>{const a=C,d=q,c=k,w=I;return V(),h(w,{ref_key:"formRef",ref:n,model:e(o),rules:e(m),"label-width":"150px",class:"form"},{default:t(()=>[l(d,{label:e(s)("form.currPassword"),prop:"password"},{default:t(()=>[l(a,{placeholder:e(s)("form.currPassword"),type:"password",modelValue:e(o).password,"onUpdate:modelValue":r[0]||(r[0]=p=>e(o).password=p)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(d,{label:e(s)("form.npassword"),prop:"npassword"},{default:t(()=>[l(a,{placeholder:e(s)("form.npassword"),type:"password",modelValue:e(o).npassword,"onUpdate:modelValue":r[1]||(r[1]=p=>e(o).npassword=p)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(d,{label:e(s)("form.cfpassword"),prop:"cfpassword"},{default:t(()=>[l(a,{placeholder:e(s)("form.cfpassword"),type:"password",modelValue:e(o).cfpassword,"onUpdate:modelValue":r[2]||(r[2]=p=>e(o).cfpassword=p)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(d,{label:"",prop:""},{default:t(()=>[l(c,{type:"primary",class:"w100p",onClick:f},{default:t(()=>[y(v(e(s)("action.submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},R=_(B,[["__scopeId","data-v-b3a1b803"]]);export{R as default};
